version: 1.0
runtime: python3

build:
  commands:
    build:
      - echo "Installing dependencies"
      - pip3 install -r requirements.txt
    post-build:
      - echo "Build finished"

run:
  runtime-version: python-3.11
  
  pre-run:
    - echo "pre-run (no-op for now)"

  command: python3 -m streamlit run app.py --server.port=$PORT --server.address=0.0.0.0

  network:
    port: 8501

  env:
    - name: AWS_DEFAULT_REGION
      value: "us-west-2"
    - name: PORT
      value: "8501"

  # (optional) secrets you may reference (example)
  # secrets:
  #   - name: my-secret
  #     value-from: "arn:aws:secretsmanager:us-west-2:123456789012:secret:mysecret"
